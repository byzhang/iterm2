

# Introduction #

This page deals with setting up your most favorite shell to work with the default xterm key bindings.

# About key binding profiles #

The "xterm" key bindings however specify a set of overriding escape sequences defined by Xterm for specific keys. Standards-compliant apps should work as expected.

# About readline #

Most applications working with dynamic user input, including shells, use the readline library for parsing user input, including received escape sequences.

Readline's behavior can be tuned via either the ` /etc/inputrc `, or ` ~/.inputrc ` files.

` /etc/inputrc ` will be parsed and evaluated first and can be used to define global settings.
The user specified ` ~/.inputrc ` can override settings, iff it exists.

At the time of writing, Mac OS X does neither ship a global ` /etc/inputrc `, nor a default ` ~/.inputrc ` for newly created users.

# Configuring readline #

It is recommended, that you configure your readline to make use of the sophisticated features.

As previously ruled out, it does not matter, where you define your settings, just make sure they will not be overridden.

## Unicode I/O ##

Readline can make use of Unicode or alternatively use the "8bit hack" to input/output non-ASCII characters.

The default behavior is to not use this hack. It is not compatible with UTF-8, and is not recommended.

Define this in your inputrc:

```
set input-meta on
set output-meta on
set convert-meta off
```

## Word jumping ##

Readline also supports jumping between words, that is re-positioning the cursor before or after the current/next word.

The default binding for this is ESC-f for forward jumping and ESC-b for backward jumping.

Most users will find this inconvenient, as the escape key is far away from the default finger position.
While iTerm2 can be configured to use the Option (ALT) key for entering escape sequences, it should be better used as the Meta key or for entering "special" characters like greek letters, symbols, umlauts etc.

A good compromise is thus using a modifier combination of CTRL and SHIFT with the left/right arrow keys for word jumping. This can be defined as follows in your inputrc:

```
"\e[1;6D": backward-word
"\e[1;6C": forward-word
```

For CTRL with left/right arrows, use this:

```
"\e[1;5D": backward-word
"\e[1;5C": forward-word
```

## Line limits jumping ##

Of course, you can also navigate the cursor to the very begin or very end of the current input line.

This should work by default already, but if not, check what escape sequence is sent to the shell for the HOME and END keys (see chapter [Escape sequence exploration](Keybindings#Escape_sequence_exploration.md)) and define those in here:

```
"\eYOURSEQUENCE": beginning-of-line
"\eYOURSEQUENCE": end-of-line
```

## Other ##

There are a ton load of other features readline has and your shell may support. If you interested, read the readline documentation via ` info readline `, or check the online documentation (see chapter [External resources](Keybindings#External_resources.md)).

If nothing is shown by either method, iTerm2 does not generate any escape sequence for the provided key combination. In this case, you can define a sequence in your Profile's settings.

# Escape sequence exploration #

To find out which escape sequence is generated by a key combination, use one of the here specified methods.

## read ##

Run the ` read ` shell built-in and input the key combination.
Sometimes, read will not echo the escape sequence, but do the asked action, like deleting a character (when backspace is pressed). In this case, use the method below.

## Verbatim mode ##

Press CTRL-V to enter the verbatim mode first. After that, the next sequence you enter will not be parsed and executed by the shell, but instead the escape sequence be printed.


# External resources #

  * [Readline TeXinfo documentation](http://tiswww.case.edu/php/chet/readline/readline.html#SEC9)
  * [The Linux keyboard and console HOWTO](http://tldp.org/HOWTO/Keyboard-and-Console-HOWTO.html) (Note: whilst this document focusses on Linux, the most things mentioned do also apply to UNIX and its flavors.)